# [0022. ctx.closePath](https://github.com/Tdahuyou/TNotes.canvas/tree/main/notes/0022.%20ctx.closePath)

<!-- region:toc -->

- [1. ğŸ¯ ç›®æ ‡](#1--ç›®æ ‡)
- [2. ğŸ«§ è¯„ä»·](#2--è¯„ä»·)
- [3. ğŸ’» demos.1 - è‡ªåŠ¨é—­åˆ vs. æ‰‹åŠ¨é—­åˆ](#3--demos1---è‡ªåŠ¨é—­åˆ-vs-æ‰‹åŠ¨é—­åˆ)
- [4. ğŸ’» demos.2 - æ³¨æ„ `lineWidth`](#4--demos2---æ³¨æ„-linewidth)
- [5. ğŸ¤” å¦‚æœè·¯å¾„æœªé—­åˆï¼Œå¯ä»¥è¢«å¡«å……å—ï¼Ÿ](#5--å¦‚æœè·¯å¾„æœªé—­åˆå¯ä»¥è¢«å¡«å……å—)
- [6. ğŸ”— References](#6--references)

<!-- endregion:toc -->

## 1. ğŸ¯ ç›®æ ‡

- `demos.1` - äº†è§£æ‰‹åŠ¨é—­åˆå’Œè‡ªåŠ¨é—­åˆ `ctx.closePath()` ä¹‹é—´çš„åŒºåˆ«
- `demos.2` - äº†è§£è·¯å¾„å¦‚æœæ²¡æœ‰è®¾ç½®è‡ªåŠ¨é—­åˆçš„è¯ä¼šå¯¼è‡´ä»€ä¹ˆé—®é¢˜

## 2. ğŸ«§ è¯„ä»·

- `ctx.closePath()` çš„åŸºæœ¬ä½¿ç”¨è›®ç®€å•çš„ï¼Œå½“ä½ åœ¨ç»˜å›¾çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ€åéœ€è¦å°†è·¯å¾„ç»™é—­åˆï¼Œåªéœ€è¦åœ¨ç»“æŸå‰è°ƒç”¨ä¸€ä¸‹ `ctx.closePath()` å°±å®Œäº‹å„¿ã€‚
- æ³¨æ„ï¼Œåœ¨ `demos.2` ä¸­ï¼Œç»˜åˆ¶äº†ä¸€ä¸ªéé—­åˆçš„ä¸‰è§’å½¢ï¼Œä½†æ˜¯ `ctx.fill` ä¾æ—§å¯ä»¥å¡«å……å‡ºè¿™ä¸ªä¸‰è§’å½¢ï¼Œè¿™æ¶‰åŠåˆ°ä¸¤ä¸ªæ ¸å¿ƒè¦ç‚¹ï¼š
  - ã€1ã€‘canvas åœ¨ fill çš„æ—¶å€™ä¼šè‡ªåŠ¨é—­åˆè·¯å¾„
  - ã€2ã€‘`fill-rule` å¡«å……è§„åˆ™
- `fill-rule` å¡«å……è§„åˆ™
  - å¡«å……è§„åˆ™ç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼Œè¿™ä¸ªçŸ¥è¯†ç‚¹åœ¨ canvasã€svg ç­‰ç»˜å›¾ç›¸å…³çš„æŠ€æœ¯ä¸­æ‰“éƒ½ä¼šæ¶‰åŠåˆ°ï¼Œæ˜¯ä¸€ä¸ªé€šè¯†çš„çŸ¥è¯†ç‚¹ã€‚
  - æƒ³è¦äº†è§£æ›´å¤šæœ‰å…³ `fill-rule` çš„å†…å®¹ï¼Œå¯ä»¥çœ‹çœ‹ References ä¸­æåˆ°çš„ï¼š
    - [å¼ é‘«æ—­ è€å¸ˆçš„çš„æ–‡ç«  -> ææ‡‚ SVG/Canvas ä¸­ nonzero å’Œ evenodd å¡«å……è§„åˆ™][2]
    - [TNotes.canvas/notes/0031. ctx.cli][3]

## 3. ğŸ’» demos.1 - è‡ªåŠ¨é—­åˆ vs. æ‰‹åŠ¨é—­åˆ

::: code-group

<<< ./demos/1/1.html {16-37}

:::

![img](https://cdn.jsdelivr.net/gh/Tdahuyou/imgs@main/2024-10-04-00-49-40.png)

## 4. ğŸ’» demos.2 - æ³¨æ„ `lineWidth`

::: code-group

<<< ./demos/2/1.html {16-43}

:::

![å›¾ 0](https://cdn.jsdelivr.net/gh/Tdahuyou/imgs@main/2025-08-15-20-34-45.png)

## 5. ğŸ¤” å¦‚æœè·¯å¾„æœªé—­åˆï¼Œå¯ä»¥è¢«å¡«å……å—ï¼Ÿ

- **Canvas åœ¨ fill æ—¶ä¼šè‡ªåŠ¨é—­åˆè·¯å¾„**
  - `fill()` æ–¹æ³•å¹¶ä¸æ˜¯åªå¡«å……ä½ ç”»å‡ºæ¥çš„çº¿æ¡ï¼Œè€Œæ˜¯ä¼šæŠŠ **è·¯å¾„ï¼ˆpathï¼‰å½“ä½œä¸€ä¸ªåŒºåŸŸ** æ¥çœ‹ã€‚
  - å¦‚æœè·¯å¾„æœ¬èº«æ²¡æœ‰é—­åˆï¼Œ`fill()` ä¼š **éšå¼åœ°ä»è·¯å¾„æœ€åä¸€ä¸ªç‚¹è¿æ¥å›èµ·å§‹ç‚¹**ï¼Œå½¢æˆä¸€ä¸ªå°é—­åŒºåŸŸã€‚
  - ä»¥ `demos.2` ä¸ºä¾‹ï¼Œå“ªæ€•ä½ åªç”»äº†ä¸¤æ¡çº¿ï¼ˆç›´è§’ L å½¢ï¼‰ï¼Œ`fill()` ä¾ç„¶ä¼šå¸®ä½ è¡¥ä¸Šæœ€åä¸€æ¡è¾¹ï¼Œä»ç»ˆç‚¹ `(150,150)` å›åˆ°èµ·ç‚¹ `(50,50)`ï¼Œä»è€Œæ„æˆä¸€ä¸ªä¸‰è§’å½¢ã€‚
- **ğŸ¤” ä¸ºä»€ä¹ˆ `demos.2` è·¯å¾„å¹¶æ²¡æœ‰é—­åˆï¼Œæœ€ç»ˆå´ä¼šå¡«å……å‡ºä¸€ä¸ªä¸‰è§’å½¢å‘¢ï¼Ÿ**
  - è¿™è·Ÿå¡«å……è§„åˆ™ `fill-rule` æœ‰å…³ï¼Œå¡«å……è§„åˆ™æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š
    - Nonzero rule éé›¶ç¯ç»•è§„åˆ™ï¼Œé»˜è®¤å€¼ï¼›
    - Evenâ€“odd rule å¥‡å¶å¡«å……è§„åˆ™ï¼›
  - åœ¨ demos.2 è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæ— è®ºæˆ‘ä»¬ç”¨å“ªç§å¡«å……è§„åˆ™ï¼Œæœ€ç»ˆéƒ½ä¼šå¡«å……å‡ºä¸€ä¸ªä¸€æ ·çš„ä¸‰è§’å½¢ã€‚
  - æœ‰å…³å¡«å……è§„åˆ™çš„è¯¦ç»†è¯´æ˜ï¼Œåœ¨ [0031. ctx.cli][3] ä¸­æœ‰ä»‹ç»ã€‚

## 6. ğŸ”— References

- https://www.zhangxinxu.com/wordpress/2018/10/nonzero-evenodd-fill-mode-rule/
  - ææ‡‚ SVG/Canvas ä¸­ nonzero å’Œ evenodd å¡«å……è§„åˆ™ Â« å¼ é‘«æ—­-é‘«ç©ºé—´-é‘«ç”Ÿæ´»ã€‚
- [TNotes.svg/notes/0024. ä½¿ç”¨å±æ€§ fill-rule è®¾ç½®å¡«å……è§„åˆ™][1]
  - svg ä¸­è·Ÿ fill-rule ç›¸å…³çš„ç¬”è®°
- [TNotes.canvas/notes/0031. ctx.cli][3]
  - åœ¨ä»‹ç» `ctx.cli` çš„ç¬”è®°ä¸­ï¼Œæœ‰å¯¹ `fill-rule` çš„è¯¦ç»†ä»‹ç»

[1]: /TNotes.svg/notes/0024
[2]: https://www.zhangxinxu.com/wordpress/2018/10/nonzero-evenodd-fill-mode-rule/
[3]: /TNotes.canvas/notes/0031
