# [0025. ä½¿ç”¨ ctx.quadraticCurveToã€ctx.bezierCurveTo ç»˜åˆ¶è´å¡å°”æ›²çº¿](https://github.com/Tdahuyou/TNotes.canvas/tree/main/notes/0025.%20%E4%BD%BF%E7%94%A8%20ctx.quadraticCurveTo%E3%80%81ctx.bezierCurveTo%20%E7%BB%98%E5%88%B6%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF)

<!-- region:toc -->

- [1. ğŸ“’ äºŒæ¬¡ã€ä¸‰æ¬¡è´å¡å°”æ›²çº¿ç»˜åˆ¶åŸç†](#1--äºŒæ¬¡ä¸‰æ¬¡è´å¡å°”æ›²çº¿ç»˜åˆ¶åŸç†)
- [2. ğŸ’» demos.1 - äºŒæ¬¡è´å¡å°”æ›²çº¿](#2--demos1---äºŒæ¬¡è´å¡å°”æ›²çº¿)
- [3. ğŸ’» demos.2 - ä¸‰æ¬¡è´å¡å°”æ›²çº¿](#3--demos2---ä¸‰æ¬¡è´å¡å°”æ›²çº¿)

<!-- endregion:toc -->
- `ctx.quadraticCurveTo`ã€`ctx.bezierCurveTo` è¿™ä¿© API çš„ä½¿ç”¨å¾ˆç®€å•ï¼Œæ— éå°±æ˜¯ä¼ å…¥ 2 ä¸ªç‚¹è¿˜æ˜¯ 3 ä¸ªç‚¹ã€‚é‡ç‚¹åœ¨äºç†è§£è´å¡å°”æ›²çº¿çš„ç»˜åˆ¶åŸç†ã€‚ç†è§£åŸç†åï¼Œè‡ªç„¶å°±ç†è§£è¿™ä¿© API åº”è¯¥å¦‚ä½•ä½¿ç”¨äº†ã€‚
- https://blog.csdn.net/m0_37602827/article/details/118165217 - CSDN - è´å¡å°”æ›²çº¿åŸç† - è¿™æ˜¯ CSDN ä¸Šçš„ä¸€ç¯‡ä»‹ç»è´å¡å°”æ›²çº¿åŸç†çš„æ–‡ç« ã€‚

## 1. ğŸ“’ äºŒæ¬¡ã€ä¸‰æ¬¡è´å¡å°”æ›²çº¿ç»˜åˆ¶åŸç†

- è´å¡å°”æ›²çº¿çš„ç›¸å…³å†…å®¹ï¼Œæ˜¯ä¸ªé€šç”¨çš„çŸ¥è¯†ç‚¹ï¼Œåœ¨å­¦ä¹  canvasã€svgã€css ç­‰è·Ÿ UI ç»˜å›¾ç›¸å…³çš„æŠ€æœ¯æ—¶éƒ½ä¼šæ¥è§¦åˆ°ã€‚
  - åœ¨ canvasã€svg ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æŒ‡å®šèµ·ç‚¹ã€ç»ˆç‚¹å’Œæ§åˆ¶ç‚¹çš„åæ ‡ï¼Œæ¥ç»˜åˆ¶äºŒæ¬¡ã€ä¸‰æ¬¡è´å¡å°”æ›²çº¿ã€‚
  - åœ¨ css ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ chrome devtools æ¥æ‰‹åŠ¨è°ƒèŠ‚åŠ¨ç”»æ•ˆæœæˆ–è¿‡æ¸¡æ•ˆæœçš„å˜åŒ–è´å¡å°”æ›²çº¿ã€‚
- äºŒæ¬¡è´å¡å°”æ›²çº¿çš„ç»˜åˆ¶åŸç†
  - ![](assets/äºŒé˜¶è´å¡å°”æ›²çº¿.gif)
  - ![](assets/2024-10-04-10-50-27.png)
  - å‡è®¾ï¼š
    - `x1 = P0ï¼ŒP01 ä¹‹é—´çš„è·ç¦»`
    - `x2 = P0ï¼ŒP1 ä¹‹é—´çš„è·ç¦»`
    - `x3 = P1ï¼ŒP12 ä¹‹é—´çš„è·ç¦»`
    - `x4 = P1ï¼ŒP2 ä¹‹é—´çš„è·ç¦»`
    - `x5 = P01ï¼ŒP02 ä¹‹é—´çš„è·ç¦»`
    - `x6 = P01ï¼ŒP12 ä¹‹é—´çš„è·ç¦»`
  - å­˜åœ¨ä¸€ä¸ªå‚æ•° tï¼Œä½¿å¾—ä¸Šè¿° x æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š
    - `t = x1 / x2`
    - `t = x3 / x4`
    - `t = x5 / x6`
  - æŒ‰ç…§ä¸Šè¿°è§„åˆ™ä¸éš¾æƒ³è±¡ï¼Œå¦‚æœ t æ˜¯ 0ï¼Œé‚£ä¹ˆ P02 ä½äºèµ·ç‚¹ P0 ä½ç½®ï¼›å¦‚æœ t æ˜¯ 1ï¼Œé‚£ä¹ˆ P02 ä½äºç»ˆç‚¹ P2 ä½ç½®ã€‚å½“ t ä»‹äº 0-1 ä¹‹é—´æ—¶ï¼Œå¯ä»¥é€šè¿‡ä¸Šè¿°è§„åˆ™æ‰¾åˆ° P02 ç‚¹çš„ä½ç½®ã€‚è¿™æ„å‘³ç€ï¼Œå½“ t ä» 0 å˜åˆ° 1 æ—¶ï¼Œä¼šè·å¾—æ— æ•°ä¸ª P02 ç‚¹ï¼Œè¿™å°±å½¢æˆäº†ä¸€ä¸ªå…‰æ»‘çš„æ›²çº¿ â€”â€” ç”±æ— æ•°ä¸ª P02 ç‚¹è¿æˆçš„æ›²çº¿ã€‚
  - ä¸Šè¿°å°±æ˜¯äºŒæ¬¡è´å¡å°”æ›²çº¿çš„ç»˜åˆ¶åŸç†ã€‚
- ä¸‰æ¬¡è´å¡å°”æ›²çº¿ç»˜åˆ¶åŸç†
  - ![](assets/ä¸‰é˜¶è´å¡å°”æ›²çº¿.gif)
  - ![](assets/2024-10-04-10-52-06.png)
  - äºŒæ¬¡è´å¡å°”æ›²çº¿æœ‰ä¸€ä¸ªæ§åˆ¶ç‚¹ï¼Œä¸‰æ¬¡è´å¡å°”æ›²çº¿æœ‰ä¸¤ä¸ªæ§åˆ¶ç‚¹ã€‚åœ¨ç†è§£äº†äºŒæ¬¡è´å¡å°”æ›²çº¿çš„ç»˜åˆ¶åŸç†åï¼Œæ‰¾è‘«èŠ¦ç”»ç“¢ï¼Œä¸‰æ¬¡ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚
  - å‡è®¾ï¼š
    - `x1 = P0ï¼ŒP01 ä¹‹é—´çš„è·ç¦»`
    - `x2 = P0ï¼ŒP1 ä¹‹é—´çš„è·ç¦»`
    - `x3 = P1ï¼ŒP12 ä¹‹é—´çš„è·ç¦»`
    - `x4 = P1ï¼ŒP2 ä¹‹é—´çš„è·ç¦»`
    - `x5 = P01ï¼ŒP02 ä¹‹é—´çš„è·ç¦»`
    - `x6 = P01ï¼ŒP12 ä¹‹é—´çš„è·ç¦»`
    - `x7 = P2ï¼ŒP23 ä¹‹é—´çš„è·ç¦»`
    - `x8 = P2ï¼ŒP3 ä¹‹é—´çš„è·ç¦»`
    - `x9 = P12ï¼ŒP13 ä¹‹é—´çš„è·ç¦»`
    - `x10 = P12ï¼ŒP23 ä¹‹é—´çš„è·ç¦»`
  - å­˜åœ¨ä¸€ä¸ªå‚æ•° tï¼Œä½¿å¾—ä¸Šè¿° x æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š
    - `t = x1 / x2`
    - `t = x3 / x4`
    - `t = x5 / x6`
    - `t = x7 / x8`
    - `t = x9 / x10`
  - æŒ‰ç…§ä¸Šè¿°è§„åˆ™ä¸éš¾æƒ³è±¡ï¼Œå¦‚æœ t æ˜¯ 0ï¼Œé‚£ä¹ˆ P03 ä½äºèµ·ç‚¹ P0 ä½ç½®ï¼›å¦‚æœ t æ˜¯ 1ï¼Œé‚£ä¹ˆ P03 ä½äºç»ˆç‚¹ P3 ä½ç½®ã€‚å½“ t ä»‹äº 0-1 ä¹‹é—´æ—¶ï¼Œå¯ä»¥é€šè¿‡ä¸Šè¿°è§„åˆ™æ‰¾åˆ° P03 ç‚¹çš„ä½ç½®ã€‚è¿™æ„å‘³ç€ï¼Œå½“ t ä» 0 å˜åˆ° 1 æ—¶ï¼Œä¼šè·å¾—æ— æ•°ä¸ª P03 ç‚¹ï¼Œè¿™å°±å½¢æˆäº†ä¸€ä¸ªå…‰æ»‘çš„æ›²çº¿ â€”â€” ç”±æ— æ•°ä¸ª P03 ç‚¹è¿æˆçš„æ›²çº¿ã€‚

ä¸Šè¿°å°±æ˜¯ä¸‰æ¬¡è´å¡å°”æ›²çº¿çš„ç»˜åˆ¶åŸç†ã€‚

## 2. ğŸ’» demos.1 - äºŒæ¬¡è´å¡å°”æ›²çº¿

```html
<!-- 1.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script src="./drawGrid.js"></script>
    <script>
      const cavnas = document.createElement('canvas')
      drawGrid(cavnas, 500, 500, 50)
      document.body.appendChild(cavnas)
      const ctx = cavnas.getContext('2d')

      ctx.fillStyle = 'red'

      ctx.beginPath()
      ctx.arc(50, 200, 4, 0, Math.PI * 2) // èµ·ç‚¹
      ctx.fill()
      ctx.beginPath()
      ctx.arc(100, 100, 4, 0, Math.PI * 2) // æ§åˆ¶ç‚¹
      ctx.fill()
      ctx.beginPath()
      ctx.arc(250, 200, 4, 0, Math.PI * 2) // ç»ˆç‚¹
      ctx.fill()

      // ctx.quadraticCurveTo(cpx, cpy, x, y)
      // ä½¿ç”¨ ctx.quadraticCurveTo æ–¹æ³•ç»˜åˆ¶äºŒæ¬¡è´å¡å°”æ›²çº¿

      // cpx cpy è¡¨ç¤ºæ§åˆ¶ç‚¹åæ ‡
      // x y è¡¨ç¤ºç»ˆç‚¹åæ ‡

      // èµ·ç‚¹åæ ‡æ˜¯ moveTo è®¾ç½®ï¼Œæˆ–è€…æ˜¯ä¸Šä¸€æ¬¡ç»˜å›¾çš„ç»“å°¾ã€‚

      ctx.beginPath()
      ctx.moveTo(50, 200)
      ctx.quadraticCurveTo(100, 100, 250, 200)
      ctx.stroke()
    </script>
  </body>
</html>
```

![](assets/2024-10-04-10-53-14.png)

## 3. ğŸ’» demos.2 - ä¸‰æ¬¡è´å¡å°”æ›²çº¿

```html
<!-- 2.html -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script src="./drawGrid.js"></script>
    <script>
      const cavnas = document.createElement('canvas')
      document.body.appendChild(cavnas)
      drawGrid(cavnas, 500, 500, 50)
      const ctx = cavnas.getContext('2d')
      ctx.beginPath()

      ctx.fillStyle = 'red'

      ctx.arc(50, 200, 4, 0, Math.PI * 2) // èµ·ç‚¹
      ctx.fill()
      ctx.beginPath()
      ctx.arc(100, 100, 4, 0, Math.PI * 2) // æ§åˆ¶ç‚¹ 1
      ctx.fill()
      ctx.beginPath()
      ctx.arc(200, 300, 4, 0, Math.PI * 2) // æ§åˆ¶ç‚¹ 2
      ctx.fill()
      ctx.beginPath()
      ctx.arc(250, 200, 4, 0, Math.PI * 2) // ç»ˆç‚¹
      ctx.fill()

      // ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y)
      // ä½¿ç”¨ ctx.bezierCurveTo æ–¹æ³•ç»˜åˆ¶ä¸‰æ¬¡è´å¡å°”æ›²çº¿

      // èµ·ç‚¹åæ ‡æ˜¯ moveTo è®¾ç½®ï¼Œæˆ–è€…æ˜¯ä¸Šä¸€æ¬¡ç»˜å›¾çš„ç»“å°¾ã€‚
      // cp1x cp1y è¡¨ç¤ºæ§åˆ¶ç‚¹ 1 åæ ‡
      // cp2x cp2y è¡¨ç¤ºæ§åˆ¶ç‚¹ 2 åæ ‡
      // x y è¡¨ç¤ºç»ˆç‚¹åæ ‡

      ctx.beginPath()
      ctx.moveTo(50, 200)
      ctx.bezierCurveTo(100, 100, 200, 300, 250, 200)
      ctx.stroke()
    </script>
  </body>
</html>
```

![](assets/2024-10-04-10-53-26.png)
